webpackJsonp([18],{502:function(module,exports){module.exports=function($scope,event,filters,eventsResource,confirmationWindow){"use strict";var e=eventsResource,dateBegin=moment(event.EventDate).subtract(1,"days").format("YYYY-MM-DD")+"T00:00",dateEnd=moment(event.EventDate).add(1,"days").format("YYYY-MM-DD")+"T23:59",ctrl=this;this.systemEvents=null,this.event=event,this.canImport=event.CanBeImported,this.searchBySystemEvent=Object.create(null),this.findLongestWord=function(str){var words=str.replace(/\(.*\)/gi,"").replace(/[,.\/]/g," "),longestWord="",wordsArray=words.split(" ");return wordsArray.length>1?wordsArray.forEach(function(item){item.length>longestWord.length&&(longestWord=item)}):longestWord=wordsArray[0],longestWord},setTimeout(function(){ctrl.searchBySystemEvent.TeamHomeName=ctrl.findLongestWord(event.TeamHomeName)}),setTimeout(function(){ctrl.searchBySystemEvent.TeamGuestName=ctrl.findLongestWord(event.TeamGuestName)}),e.system.get(null,null,event.SportID,dateBegin,dateEnd).then(function(systemEvents){ctrl.systemEvents=systemEvents}),this["import"]=function(systemEvent,isImport){isImport?confirmationWindow.open("Are you sure want to IMPORT this event?").then(function(){var sysId=systemEvent?systemEvent.ID:null;e.live["import"](ctrl.event.ID,sysId,isImport).then(function(){$scope.confirm(!0)})}):confirmationWindow.open("Are you sure want to REMOVE association").then(function(){e.live["import"](ctrl.event.ID,null,isImport).then(function(){$scope.confirm(!0)})})},this.viewOdds=function(){window.open(window.location.origin+"/#/monitoring/prematch/"+ctrl.event.ID+"/odds")},setTimeout(function(){componentHandler.upgradeAllRegistered()},300)}}});