webpackJsonp([4],{497:function(module,exports,__webpack_require__){module.exports=function($rootScope,$scope,event,filters,eventsResource,confirmationWindow,ngDialog){"use strict";var e=eventsResource,dateBegin=moment(event.EventDate).subtract(1,"days").format("YYYY-MM-DD")+"T00:00",dateEnd=moment(event.EventDate).add(1,"days").format("YYYY-MM-DD")+"T23:59",_this=this;this.systemEvents=null,this.event=event,this.canImport=event.IsCanBeImported,this.isEventCombined=!!event.ServiceNames,this.searchBySystemEvent=Object.create(null),this.modal={ctrl:null,temp:__webpack_require__(522)},this.findLongestWord=function(str){var words=str.replace(/\(.*\)/gi,"").replace(/[,.\/]/g," "),longestWord="",wordsArray=words.split(" ");return wordsArray.length>1?wordsArray.forEach(function(item){item.length>longestWord.length&&(longestWord=item)}):longestWord=wordsArray[0],longestWord},setTimeout(function(){_this.searchBySystemEvent.TeamHomeName=_this.findLongestWord(event.TeamHomeName)}),setTimeout(function(){_this.searchBySystemEvent.TeamGuestName=_this.findLongestWord(event.TeamGuestName)}),e.system.get(null,null,event.SportID,dateBegin,dateEnd).then(function(systemEvents){_this.systemEvents=systemEvents}),this.importFromSource=function(){__webpack_require__.e(30)["catch"](function(err){__webpack_require__.oe(err)}).then(function(){_this.modal.ctrl=__webpack_require__(527)}.bind(null,__webpack_require__)).then(function(){ngDialog.openConfirm({template:_this.modal.temp,controller:_this.modal.ctrl,resolve:{sources:function(){return event.ServiceNames.split("|")},sourcesIDs:function(){return event.ServiceIDs.split("|")}},width:"250px"}).then(function(source){confirmationWindow.open("Are you sure want to IMPORT this event from "+source.name+"?").then(function(){var sysId=systemEvent?systemEvent.ID:null;e.live["import"](_this.event.ID,sysId,isImport,source.id).then(function(){$scope.confirm(!0)})})})})},this["import"]=function(systemEvent,isImport){isImport?_this.event.ServiceNames?_this.importFromSource():confirmationWindow.open("Are you sure want to IMPORT this event?").then(function(){var sysId=systemEvent?systemEvent.ID:null;e.live["import"](_this.event.ID,sysId,isImport,null).then(function(){$scope.confirm(!0)})}):confirmationWindow.open("Are you sure want to REMOVE association").then(function(){e.live["import"](_this.event.ID,null,isImport,null).then(function(){$scope.confirm(!0)})})},this.viewOdds=function(){window.open(window.location.origin+"/#/monitoring/live/"+_this.event.ID+"/odds")},setTimeout(function(){componentHandler.upgradeAllRegistered()},300)}},522:function(module,exports){module.exports='<modal-wrapper>\r\n  <ul class=\'mdl-list\'>\r\n    <li class="mdl-list__item"\r\n        ng-repeat="source in ::vm.sources track by $index">\r\n      <button ng-click="confirm(source)"\r\n              type="button"\r\n              class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored">\r\n        Import from <span ng-bind="::source.name"></span>\r\n      </button>\r\n    </li>\r\n  </ul>\r\n</modal-wrapper>\r\n'}});