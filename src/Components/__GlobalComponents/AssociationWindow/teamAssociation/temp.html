<modal-wrapper>
    <strong class="text-primary text-upper deny-select">
        <span ng-bind="vm.type"></span>
        Association
    </strong>
    <h5 class="text-center" >
        [<span ng-bind="vm.team.PTeamID"></span>]
        <span ng-bind="vm.team.Name"></span>
    </h5>
    <h5 class="text-primary text-center" ng-if="vm.alreadyAssociated">
        Already associated with <span ng-bind="vm.team.SystemName"></span>
    </h5>

    <div style="margin-left: 14px;">
        <input-default label="Search" model="vm.search" debounce="500" change="vm.refresh()"></input-default>
    </div>

    <div style="max-height: 300px; overflow: auto;">
        <table class="material__table-small">
            <thead class="text-upper">
            <tr>
                <th colspan="6">
                    System Teams
                </th>
            </tr>
            <tr>
                <th>Name</th>
                <th>Country</th>
                <th>Description</th>
                <th>Ordering</th>
                <th>Parents</th>
                <th>Team Type</th>
            </tr>
            </thead>
            <tbody>
            <tr class="hover" ng-repeat="team in vm.systemTeams"
                ng-click="vm.associate(team)">
                <td>
                    [<span class="link"
                           ng-click="vm.openSystemSettings(team.ID); $event.stopPropagation()"
                           ng-bind="team.ID"
                           title="Open system team settings"></span>]
                    <span ng-bind="team.Name"></span>
                </td>
                <td ng-bind="team.CountryCode"></td>
                <td ng-bind="team.Description"></td>
                <td ng-bind="team.Ordering"></td>
                <td ng-bind="team.ParentsInfo"></td>
                <td ng-bind="team.TeamTypeInfo"></td>
            </tr>
            </tbody>
        </table>
    </div>
    <br>
    <button type="button"
            class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored"
            ng-click="vm.deleteAssociation()">
        Delete association
    </button>
</modal-wrapper>
